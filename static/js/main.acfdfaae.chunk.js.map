{"version":3,"sources":["serviceWorker.js","containers/ListPage/constants.js","constants.js","utils/randomString.js","utils/getAbbr.js","utils/getUrlParams.js","utils/prepareParamsForApi.js","utils/prepareDataForApi.js","utils/modelPersonData.js","utils/getMinimumDifference.js","containers/ListPage/reducer.js","containers/ListPage/types.js","reducers.js","components/Avatar/Avatar.js","components/Button/Button.js","components/Card/Card.js","components/Footer/Footer.js","components/Header/Header.js","components/Info/Info.js","components/Input/Input.js","components/Logo/Logo.js","components/Modal/Modal.js","components/Page/Page.js","components/Pagination/Pagination.js","components/Prompt/Prompt.js","components/Spinner/Spinner.js","containers/ListPage/actions.js","containers/ListPage/ListPage.js","containers/NotFoundPage/NotFoundPage.js","Root.js","index.js","components/Content/Content.js","components/Content/index.js"],"names":["Boolean","window","location","hostname","match","CUSTOM_FIELDS__PERSONS","id","name","email","phone","picture_id","picture","org_name","d2f9ad13a9a93928881080c25fefb6587dcc60ed","a4fa794633f5631a8d39122c6de2400673a5a00b","API_TOKEN","API_URL","randomString","Math","random","toString","substring","getAbbr","input","abbr","shift","pop","toUpperCase","getUrlParams","url","document","pathname","pattern","params","keys","regexp","pathToRegexp","fragments","exec","i","length","undefined","mapConstantsToApiVariables","key","apiVariable","prepareParamsForApi","Object","n","newParams","index","prepareData","value","customFields","filter","field","prepareDataForApi","newItem","data","extractApiData","newValue","newKey","item","primary","pictures","modelPersonData","items","isArray","constructor","Array","newItems","map","getMinimumDifference","arr","lowestDiff","Infinity","sort","a","b","min","abs","initialState","prioritizePerson","error","loading","errorMsg","loadingMsg","addPerson","deletePerson","viewPerson","listPeople","term","start","limit","groupCount","next_start","more_items_in_collection","lastAction","ListPageReducer","state","action","type","payload","additional_data","pagination","reducer","combineReducers","ListPage","Avatar","size","link","focusable","className","restProps","WrapperElement","useState","loadedURL","setURL","loaderImg","Image","setImageURL","useEffect","src","addEventListener","removeEventListener","classnames","title","href","tabIndex","role","aria-label","style","backgroundImage","defaultProps","Button","color","children","classNames","React","cloneElement","props","Card","titleExtra","highlight","metadata","avatar","contentExtra","elementType","ElementType","highlightedtitle","stringReplace","meta","Footer","Header","target","rel","itemScope","itemType","Info","Input","forwardRef","ref","autoFocus","hasReset","onChange","onSubmit","onValidate","onStopTyping","stopTypingThreshold","validateOnStart","containerClassName","text","setText","errors","setError","typingTimeout","setTypingTimeout","handleChange","val","current","clearTimeout","setTimeout","handleValidation","checkValidity","push","validationMessage","handleSubmit","e","activeElement","focus","onClick","spellCheck","autoCapitalize","autoCorrect","autoComplete","Logo","width","hash","aria-labelledby","xmlns","viewBox","fill","height","d","Modal","label","content","pageTitle","hasCloseButton","closeButtonContent","closeButtonTitle","extraFooterContent","closeByOverlay","open","onOpen","onClose","isOpen","setOpen","handleEscape","handleClose","replace","previousActiveElement","documentElement","overflow","getElementsByTagName","overflowY","aria-modal","preventDefault","currentTarget","aria-live","Content","lazy","Page","search","navigation","pageContent","fallback","Pagination","currentPage","hasNextPage","basePath","pathPageSelector","prevGroupPermitted","prevPagePermitted","nextPagePermitted","countOfPrevPagesInGroup","countOfNextPagesInGroup","getPath","page","to","aria-disabled","apply","aria-current","Prompt","visible","hasLoading","includes","silent","Spinner","fontSize","aria-busy","requests","priorityField","customFileds","request","method","startType","successType","failureType","successCallback","handleCallbackData","callbackExecutionDelay","dispatch","getState","indexOf","cancel","source","axios","CancelToken","cancelToken","token","then","response","success","error_info","join","replce","JSON","stringify","Error","catch","isCancel","message","finally","fetchPersons","prepareParams","searchPersons","DragHandle","sortableHandle","SortableItem","sortableElement","cardProps","SortableList","sortableContainer","disable","listItem","organization","List","history","useHistory","useLocation","useDispatch","useSelector","path","parseInt","pageStartIndex","searchInputRef","createRef","addPersonInputRef","setTerm","isModalOpen","setModalOpen","promptVisible","setPromptVisible","pageItems","setItems","modalContent","setModalContent","activePerson","setActivePerson","addPersonFormValidated","setAddPersonFormValidated","showPrompt","needsModal","toLowerCase","onModalClose","onSubmitAddPerson","priority","performance","timing","navigationStart","Date","now","onSubmitDeletePerson","trim","currentItem","values","customFilds","x","fetchPerson","addPersonModal","deletePersonModal","viewPersonModal","placeholder","required","disabled","reduce","obj","htmlFor","termLength","minLength","useDragHandle","hideSortableGhost","onSortStart","event","node","collection","isKeySorting","classList","add","parentNode","onSortEnd","oldIndex","newIndex","remove","getElementsByClassName","portion","prioritizedItem","newPriority","updatePriority","arrayMove","shouldCancelStart","NotFoundPage","Root","store","basename","process","exact","from","component","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","isSticky"],"mappings":"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","file":"static/js/main.acfdfaae.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const API_ENDPOINT__PERSONS = 'persons';\r\nexport const API_ENDPOINT__PERSON = 'persons/{id}';\r\nexport const API_ENDPOINT__SEARCH = 'persons/find';\r\n\r\nexport const CUSTOM_FIELDS__PERSONS = {\r\n\tid: 'id',\r\n\tname: 'name',\r\n\temail: 'email',\r\n\tphone: 'phone',\r\n\tpicture_id: 'picture',\r\n\tpicture: 'picture',\r\n\torg_name: 'organization',\r\n\td2f9ad13a9a93928881080c25fefb6587dcc60ed: 'assistant',\r\n\ta4fa794633f5631a8d39122c6de2400673a5a00b: 'priority',\r\n\t'991ab47760d1940bce1975a949181811a616dbe0': 'groups',\r\n\t'83f46a94b475bc57a9774cb568cee19f8d2aa22c_formatted_address': 'location'\r\n};\r\n","export const API_TOKEN = 'd8ecd5215884b7f537b4b2b3c51e212c79921bcf';\r\nexport const API_URL = 'https://api.pipedrive.com/v1/';\r\nexport const API_VARIABLE__START = 'start';\r\nexport const API_VARIABLE__LIMIT = 'limit';\r\nexport const API_VARIABLE__TOKEN = 'api_token';\r\nexport const API_VARIABLE__TERM = 'term';\r\nexport const API_VARIABLE__SORT = 'sort';\r\nexport const LIST__LIMIT = 15;\r\nexport const LIST__GROUP_COUNT = 3;\r\n\r\nexport * from './containers/ListPage/constants';\r\n","const randomString = () => {\r\n\treturn (\r\n\t\tMath.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(2, 15) +\r\n\t\tMath.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(2, 15)\r\n\t);\r\n};\r\n\r\nexport default randomString;\r\n","const getAbbr = (input = '') => {\r\n\tlet abbr = (input && input.match(/\\b\\w/g)) || [];\r\n\treturn ((abbr.shift() || '') + (abbr.pop() || '')).toUpperCase();\r\n};\r\n\r\nexport default getAbbr;\r\n","import pathToRegexp from 'path-to-regexp';\r\n\r\nconst getUrlParams = (url = document.location.pathname, pattern = '') => {\r\n\tlet params = [];\r\n\tconst keys = [];\r\n\tconst regexp = pathToRegexp(pattern, keys);\r\n\tconst fragments = regexp.exec(url);\r\n\tfor (let i = 0; i < keys.length; i++) {\r\n\t\tparams[keys[i].name] = fragments ? fragments[i + 1] : undefined;\r\n\t}\r\n\treturn params;\r\n};\r\n\r\nexport default getUrlParams;\r\n","import {\r\n\tAPI_VARIABLE__START,\r\n\tAPI_VARIABLE__LIMIT,\r\n\tAPI_VARIABLE__TERM,\r\n\tAPI_VARIABLE__SORT\r\n} from '../constants';\r\n\r\nconst mapConstantsToApiVariables = (key = '') => {\r\n\tlet apiVariable = key;\r\n\tswitch (key) {\r\n\t\tcase 'start':\r\n\t\t\tapiVariable = API_VARIABLE__START;\r\n\t\t\tbreak;\r\n\t\tcase 'limit':\r\n\t\t\tapiVariable = API_VARIABLE__LIMIT;\r\n\t\t\tbreak;\r\n\t\tcase 'term':\r\n\t\t\tapiVariable = API_VARIABLE__TERM;\r\n\t\t\tbreak;\r\n\t\tcase 'sort':\r\n\t\t\tapiVariable = API_VARIABLE__SORT;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tapiVariable = null;\r\n\t}\r\n\treturn apiVariable;\r\n};\r\n\r\nconst prepareParamsForApi = (params = {}) => {\r\n\tlet key,\r\n\t\tkeys = Object.keys(params);\r\n\tlet n = keys.length;\r\n\tlet newParams = {};\r\n\twhile (n--) {\r\n\t\tkey = keys[n];\r\n\t\tconst index = mapConstantsToApiVariables(key);\r\n\t\tindex && (newParams[index] = params[key]);\r\n\t}\r\n\treturn newParams;\r\n};\r\n\r\nexport default prepareParamsForApi;\r\n","import { CUSTOM_FIELDS__PERSONS as customFields } from '../constants';\r\n\r\nconst prepareData = (key = '', value = null) => {\r\n\tlet keys = [];\r\n\tif (value) {\r\n\t\tkeys = Object.keys(customFields).filter(\r\n\t\t\tfield => customFields[field] === key\r\n\t\t);\r\n\t}\r\n\treturn Object.keys(keys).length ? { key: keys[0], value } : null;\r\n};\r\n\r\nconst prepareDataForApi = (input = {}) => {\r\n\tconst keys = Object.keys(input);\r\n\tlet key;\r\n\tlet n = keys.length;\r\n\tlet newItem = {};\r\n\twhile (n--) {\r\n\t\tkey = keys[n];\r\n\t\tconst data = prepareData(key, input[key]);\r\n\t\tdata && (newItem[data.key] = data.value);\r\n\t}\r\n\treturn newItem;\r\n};\r\n\r\nexport default prepareDataForApi;\r\n","import { CUSTOM_FIELDS__PERSONS as customFields } from '../constants';\r\n\r\nconst extractApiData = (key = '', value = null) => {\r\n\tlet newValue = value;\r\n\tconst newKey = customFields[key];\r\n\tif (newKey) {\r\n\t\tswitch (newKey) {\r\n\t\t\tcase 'phone':\r\n\t\t\t\tnewValue = !value\r\n\t\t\t\t\t? value\r\n\t\t\t\t\t: typeof value === 'string'\r\n\t\t\t\t\t? value\r\n\t\t\t\t\t: value[\r\n\t\t\t\t\t\t\tObject.keys(value).filter(\r\n\t\t\t\t\t\t\t\titem => value[item].primary\r\n\t\t\t\t\t\t\t)[0]\r\n\t\t\t\t\t  ].value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'email':\r\n\t\t\t\tnewValue = !value\r\n\t\t\t\t\t? value\r\n\t\t\t\t\t: typeof value === 'string'\r\n\t\t\t\t\t? value\r\n\t\t\t\t\t: value[\r\n\t\t\t\t\t\t\tObject.keys(value).filter(\r\n\t\t\t\t\t\t\t\titem => value[item].primary\r\n\t\t\t\t\t\t\t)[0]\r\n\t\t\t\t\t  ].value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'picture':\r\n\t\t\t\tnewValue =\r\n\t\t\t\t\tvalue == null\r\n\t\t\t\t\t\t? value\r\n\t\t\t\t\t\t: value.url\r\n\t\t\t\t\t\t? value.url\r\n\t\t\t\t\t\t: value.pictures['128'];\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tnewValue = value;\r\n\t\t}\r\n\t}\r\n\treturn newKey ? { key: [newKey], value: newValue } : null;\r\n};\r\n\r\nconst modelPersonData = (items = []) => {\r\n\tconst isArray = items.constructor === Array;\r\n\titems = isArray ? items : [items];\r\n\tconst newItems = items.map(item => {\r\n\t\tlet key,\r\n\t\t\tkeys = Object.keys(item);\r\n\t\tlet n = keys.length;\r\n\t\tlet newItem = {};\r\n\t\twhile (n--) {\r\n\t\t\tkey = keys[n];\r\n\t\t\tconst data = extractApiData(key, item[key]);\r\n\t\t\tdata && (newItem[data.key] = data.value);\r\n\t\t}\r\n\t\treturn newItem;\r\n\t});\r\n\r\n\treturn isArray ? newItems : newItems[0];\r\n};\r\n\r\nexport default modelPersonData;\r\n","const getMinimumDifference = (arr = []) => {\r\n\tvar lowestDiff = Infinity;\r\n\tarr.sort((a, b) => a - b);\r\n\tfor (var i = 0; i < arr.length - 1; i++) {\r\n\t\tlowestDiff = Math.min(lowestDiff, Math.abs(arr[i] - arr[i + 1]));\r\n\t}\r\n\treturn lowestDiff;\r\n};\r\n\r\nexport default getMinimumDifference;\r\n","import {\r\n\tPERSONS__FETCH_STARTED,\r\n\tPERSONS__FETCH_SUCCEEDED,\r\n\tPERSONS__FETCH_FAILED,\r\n\tPERSONS__ADD_STARTED,\r\n\tPERSONS__ADD_SUCCEEDED,\r\n\tPERSONS__ADD_FAILED,\r\n\tPERSON__PRIORITIZE_STARTED,\r\n\tPERSON__PRIORITIZE_SUCCEEDED,\r\n\tPERSON__PRIORITIZE_FAILED,\r\n\tPERSON__FETCH_STARTED,\r\n\tPERSON__FETCH_SUCCEEDED,\r\n\tPERSON__FETCH_FAILED,\r\n\tPERSON__DELETE_STARTED,\r\n\tPERSON__DELETE_SUCCEEDED,\r\n\tPERSON__DELETE_FAILED,\r\n\tSEARCH__FETCH_STARTED,\r\n\tSEARCH__FETCH_SUCCEEDED,\r\n\tSEARCH__FETCH_FAILED\r\n} from '../../types';\r\nimport {\r\n\tLIST__LIMIT as limit,\r\n\tLIST__GROUP_COUNT as groupCount\r\n} from '../../constants';\r\n\r\nimport { modelPersonData } from '../../utils';\r\n\r\nconst initialState = {\r\n\tprioritizePerson: {\r\n\t\terror: false,\r\n\t\tloading: false,\r\n\t\terrorMsg: null,\r\n\t\tloadingMsg: \"Saving the person's priority ...\"\r\n\t},\r\n\taddPerson: {\r\n\t\terror: false,\r\n\t\tloading: false,\r\n\t\terrorMsg: null,\r\n\t\tloadingMsg: 'Adding the person ...'\r\n\t},\r\n\tdeletePerson: {\r\n\t\terror: false,\r\n\t\tloading: false,\r\n\t\terrorMsg: null,\r\n\t\tloadingMsg: 'Deleting the person ...'\r\n\t},\r\n\tviewPerson: {\r\n\t\tdata: null,\r\n\t\terror: false,\r\n\t\tloading: false,\r\n\t\terrorMsg: null,\r\n\t\tloadingMsg: 'Fetching person information ...'\r\n\t},\r\n\tlistPeople: {\r\n\t\terror: false,\r\n\t\tloading: false,\r\n\t\terrorMsg: null,\r\n\t\tloadingMsg: \"Updating people's list ...\",\r\n\t\tterm: null,\r\n\t\tstart: 0,\r\n\t\tlimit,\r\n\t\titems: [],\r\n\t\tgroupCount,\r\n\t\tnext_start: limit,\r\n\t\tmore_items_in_collection: false\r\n\t},\r\n\tlastAction: null\r\n};\r\n\r\nconst ListPageReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PERSONS__FETCH_STARTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'listPeople',\r\n\t\t\t\tlistPeople: {\r\n\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSONS__FETCH_SUCCEEDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlistPeople: {\r\n\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\t...{\r\n\t\t\t\t\t\titems:\r\n\t\t\t\t\t\t\taction.payload && action.payload.data\r\n\t\t\t\t\t\t\t\t? modelPersonData(action.payload.data)\r\n\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...(action.payload &&\r\n\t\t\t\t\taction.payload.additional_data &&\r\n\t\t\t\t\taction.payload.additional_data.pagination\r\n\t\t\t\t\t\t? action.payload.additional_data.pagination\r\n\t\t\t\t\t\t: {})\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSONS__FETCH_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlistPeople: {\r\n\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terrorMsg:\r\n\t\t\t\t\t\t\"An error occured while trying to fetch people's list. Details: \" +\r\n\t\t\t\t\t\taction.payload\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__PRIORITIZE_STARTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'prioritizePerson',\r\n\t\t\t\tprioritizePerson: {\r\n\t\t\t\t\t...state.prioritizePerson,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__PRIORITIZE_SUCCEEDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprioritizePerson: {\r\n\t\t\t\t\t...state.prioritizePerson,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__PRIORITIZE_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'prioritizePerson',\r\n\t\t\t\tprioritizePerson: {\r\n\t\t\t\t\t...state.prioritizePerson,\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terrorMsg:\r\n\t\t\t\t\t\t\"An error occured while trying to prioritize people's list. Details: \" +\r\n\t\t\t\t\t\taction.payload\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSONS__ADD_STARTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'addPerson',\r\n\t\t\t\taddPerson: {\r\n\t\t\t\t\t...state.addPerson,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSONS__ADD_SUCCEEDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\taddPerson: {\r\n\t\t\t\t\t...state.addPerson,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSONS__ADD_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'addPerson',\r\n\t\t\t\taddPerson: {\r\n\t\t\t\t\t...state.addPerson,\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terrorMsg:\r\n\t\t\t\t\t\t'An error occured while trying to add the person. Details: ' +\r\n\t\t\t\t\t\taction.payload\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__FETCH_STARTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'viewPerson',\r\n\t\t\t\tviewPerson: {\r\n\t\t\t\t\t...state.viewPerson,\r\n\t\t\t\t\tdata: null,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__FETCH_SUCCEEDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tviewPerson: {\r\n\t\t\t\t\t...state.viewPerson,\r\n\t\t\t\t\t...{\r\n\t\t\t\t\t\tdata:\r\n\t\t\t\t\t\t\taction.payload && action.payload.data\r\n\t\t\t\t\t\t\t\t? modelPersonData(action.payload.data)\r\n\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__FETCH_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'viewPerson',\r\n\t\t\t\tviewPerson: {\r\n\t\t\t\t\t...state.viewPerson,\r\n\t\t\t\t\tdata: null,\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terrorMsg:\r\n\t\t\t\t\t\t'An error occured while trying to load the personal details. Details: ' +\r\n\t\t\t\t\t\taction.payload\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__DELETE_STARTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'deletePerson',\r\n\t\t\t\tdeletePerson: {\r\n\t\t\t\t\t...state.deletePerson,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__DELETE_SUCCEEDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdeletePerson: {\r\n\t\t\t\t\t...state.deletePerson,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase PERSON__DELETE_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'deletePerson',\r\n\t\t\t\tdeletePerson: {\r\n\t\t\t\t\t...state.deletePerson,\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terrorMsg:\r\n\t\t\t\t\t\t'An error occured while trying to delete the person. Details: ' +\r\n\t\t\t\t\t\taction.payload\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SEARCH__FETCH_STARTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'listPeople',\r\n\t\t\t\tlistPeople: {\r\n\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SEARCH__FETCH_SUCCEEDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlistPeople: {\r\n\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\terror: false,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\t...{\r\n\t\t\t\t\t\titems:\r\n\t\t\t\t\t\t\taction.payload && action.payload.data\r\n\t\t\t\t\t\t\t\t? modelPersonData(action.payload.data)\r\n\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...(action.payload.additional_data &&\r\n\t\t\t\t\taction.payload.additional_data.pagination\r\n\t\t\t\t\t\t? action.payload.additional_data.pagination\r\n\t\t\t\t\t\t: {})\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase SEARCH__FETCH_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlastAction: 'listPeople',\r\n\t\t\t\tlistPeople: {\r\n\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\terrorMsg:\r\n\t\t\t\t\t\t'An error occured while trying to search your keyword. Details: ' +\r\n\t\t\t\t\t\taction.payload\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default ListPageReducer;\r\n","export const PERSONS__FETCH_STARTED = 'PERSONS__FETCH_STARTED';\r\nexport const PERSONS__FETCH_SUCCEEDED = 'PERSONS__FETCH_SUCCEEDED';\r\nexport const PERSONS__FETCH_FAILED = 'PERSONS__FETCH_FAILED';\r\nexport const PERSONS__ADD_STARTED = 'PERSONS__ADD_STARTED';\r\nexport const PERSONS__ADD_SUCCEEDED = 'PERSONS__ADD_SUCCEEDED';\r\nexport const PERSONS__ADD_FAILED = 'PERSONS__ADD_FAILED';\r\nexport const PERSON__PRIORITIZE_STARTED = 'PERSON__PRIORITIZE_STARTED';\r\nexport const PERSON__PRIORITIZE_SUCCEEDED = 'PERSON__PRIORITIZE_SUCCEEDED';\r\nexport const PERSON__PRIORITIZE_FAILED = 'PERSON__PRIORITIZE_FAILED';\r\nexport const PERSON__FETCH_STARTED = 'PERSON__FETCH_STARTED';\r\nexport const PERSON__FETCH_SUCCEEDED = 'PERSON__FETCH_SUCCEEDED';\r\nexport const PERSON__FETCH_FAILED = 'PERSON__FETCH_FAILED';\r\nexport const PERSON__DELETE_STARTED = 'PERSON__DELETE_STARTED';\r\nexport const PERSON__DELETE_SUCCEEDED = 'PERSON__DELETE_SUCCEEDED';\r\nexport const PERSON__DELETE_FAILED = 'PERSON__DELETE_FAILED';\r\nexport const SEARCH__FETCH_STARTED = 'SEARCH__FETCH_STARTED';\r\nexport const SEARCH__FETCH_SUCCEEDED = 'SEARCH__FETCH_SUCCEEDED';\r\nexport const SEARCH__FETCH_FAILED = 'SEARCH__FETCH_FAILED';\r\n","import { combineReducers } from 'redux';\r\nimport ListPage from './containers/ListPage/reducer';\r\n\r\nconst reducer = combineReducers({\r\n\tListPage\r\n});\r\n\r\nexport default reducer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport { getAbbr } from '../../utils';\r\nimport './index.scss';\r\n\r\nconst Avatar = ({\r\n\turl,\r\n\tname,\r\n\tsize,\r\n\tlink,\r\n\tfocusable,\r\n\tclassName,\r\n\t...restProps\r\n}) => {\r\n\tconst abbr = name ? getAbbr(name) : null;\r\n\tconst WrapperElement = link ? 'a' : 'div';\r\n\tconst [loadedURL, setURL] = useState(null);\r\n\tconst loaderImg = new Image();\r\n\tconst setImageURL = () => {\r\n\t\tsetURL(url);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (url) {\r\n\t\t\tloaderImg.src = url;\r\n\t\t\tloaderImg.addEventListener('load', setImageURL);\r\n\t\t\treturn () => {\r\n\t\t\t\tloaderImg.removeEventListener('load', setImageURL);\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\treturn (\r\n\t\t<figure\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'avatar',\r\n\t\t\t\t{ 'avatar--is-loading': !loadedURL && url },\r\n\t\t\t\t{ [`avatar--${size}`]: size },\r\n\t\t\t\t{ [className]: className }\r\n\t\t\t)}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t<WrapperElement\r\n\t\t\t\ttitle={name}\r\n\t\t\t\tclassName=\"avatar__wrapper\"\r\n\t\t\t\t{...(link ? { href: link } : {})}\r\n\t\t\t\t{...(link && !focusable ? { tabIndex: '-1' } : {})}\r\n\t\t\t>\r\n\t\t\t\t{abbr ? <abbr className=\"avatar__abbreviation\">{abbr}</abbr> : null}\r\n\t\t\t\t{url && loadedURL ? (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\trole=\"img\"\r\n\t\t\t\t\t\taria-label={`${name}'s Avatar`}\r\n\t\t\t\t\t\tclassName=\"avatar__image\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundImage: `url(${loadedURL})`\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t</WrapperElement>\r\n\t\t</figure>\r\n\t);\r\n};\r\n\r\nAvatar.propTypes = {\r\n\turl: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tname: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tlink: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tsize: PropTypes.oneOfType([\r\n\t\t() => null,\r\n\t\tPropTypes.oneOf(['large', 'default'])\r\n\t]),\r\n\tfocusable: PropTypes.bool\r\n};\r\n\r\nAvatar.defaultProps = {\r\n\turl: null,\r\n\tname: null,\r\n\tlink: null,\r\n\tsize: null,\r\n\tfocusable: false\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport './index.scss';\r\n\r\nconst Button = ({ size, color, children, className, ...restProps }) => {\r\n\tconst classNames = classnames(\r\n\t\t'button',\r\n\t\t{\r\n\t\t\t[`button--${size}`]: size\r\n\t\t},\r\n\t\t{\r\n\t\t\t[`button--${color}`]: color\r\n\t\t}\r\n\t);\r\n\treturn (\r\n\t\tchildren != null &&\r\n\t\tchildren.constructor !== Array &&\r\n\t\t(typeof children === 'string' ? (\r\n\t\t\t<button\r\n\t\t\t\tclassName={classnames(classNames, { [className]: className })}\r\n\t\t\t\t{...restProps}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</button>\r\n\t\t) : (\r\n\t\t\tReact.cloneElement(children, {\r\n\t\t\t\tclassName: classnames(classNames, {\r\n\t\t\t\t\t[children.props.className]: children.props && children.props.className\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t))\r\n\t);\r\n};\r\n\r\nButton.propTypes = {\r\n\tsize: PropTypes.oneOfType([\r\n\t\t() => null,\r\n\t\tPropTypes.oneOf(['xsmall', 'small', 'default'])\r\n\t]),\r\n\tcolor: PropTypes.oneOfType([\r\n\t\t() => null,\r\n\t\tPropTypes.oneOf(['green', 'red', 'default'])\r\n\t])\r\n};\r\n\r\nButton.defaultProps = {\r\n\tsize: null,\r\n\tcolor: null\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport stringReplace from 'react-string-replace';\r\nimport { Avatar } from '../../components';\r\nimport './index.scss';\r\n\r\nconst Card = ({\r\n\ttitle,\r\n\ttitleExtra,\r\n\thighlight,\r\n\tlink,\r\n\tmetadata,\r\n\tavatar,\r\n\tcontentExtra,\r\n\telementType,\r\n\tclassName,\r\n\t...restProps\r\n}) => {\r\n\tconst ElementType = elementType;\r\n\tconst highlightedtitle = !highlight\r\n\t\t? title\r\n\t\t: stringReplace(title, highlight, (match, i) => (\r\n\t\t\t\t<span key={`__highlight${i}`} className=\"highlighted\">\r\n\t\t\t\t\t{match}\r\n\t\t\t\t</span>\r\n\t\t  ));\r\n\treturn (\r\n\t\t<ElementType\r\n\t\t\tclassName={classnames('card', { [className]: className })}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t<div className=\"card__inner\">\r\n\t\t\t\t<div className=\"card__column card__column--image\">\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tclassName=\"card__avatar\"\r\n\t\t\t\t\t\tname={title}\r\n\t\t\t\t\t\turl={avatar}\r\n\t\t\t\t\t\tlink={link}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card__column card__column--info\">\r\n\t\t\t\t\t<div className=\"card__header\">\r\n\t\t\t\t\t\t<h3 className=\"card__title\">\r\n\t\t\t\t\t\t\t{link ? (\r\n\t\t\t\t\t\t\t\t<a href={link}>{highlightedtitle}</a>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span>{highlightedtitle}</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t{titleExtra && (\r\n\t\t\t\t\t\t\t<div className=\"card__header-extra\">\r\n\t\t\t\t\t\t\t\t{titleExtra}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{metadata && Object.keys(metadata).length ? (\r\n\t\t\t\t\t\t<ul className=\"card__meta\">\r\n\t\t\t\t\t\t\t{Object.keys(metadata).map((meta, i) => (\r\n\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\tkey={`__meta${i}`}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t'card__meta-item',\r\n\t\t\t\t\t\t\t\t\t\t`card__meta-item--${meta}`\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span>{metadata[meta]}</span>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{contentExtra}\r\n\t\t</ElementType>\r\n\t);\r\n};\r\n\r\nCard.propTypes = {\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttitleExtra: PropTypes.oneOfType([() => null, PropTypes.element]),\r\n\thighlight: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tlink: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tmetadata: PropTypes.oneOfType([() => null, PropTypes.object]),\r\n\tavatar: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tcontentExtra: PropTypes.oneOfType([() => null, PropTypes.element]),\r\n\telementType: PropTypes.string\r\n};\r\n\r\nCard.defaultProps = {\r\n\ttitle: null,\r\n\ttitleExtra: null,\r\n\thighlight: null,\r\n\tlink: null,\r\n\tmetadata: null,\r\n\tavatar: null,\r\n\tcontentExtra: null,\r\n\telementType: 'li'\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport './index.scss';\r\n\r\nconst Footer = ({ className, ...restProps }) => {\r\n\treturn (\r\n\t\t<footer\r\n\t\t\tclassName={classnames('footer', { [className]: className })}\r\n\t\t\t{...restProps}\r\n\t\t></footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport { Logo } from '../../components';\r\nimport './index.scss';\r\n\r\nconst Header = ({ className, ...restProps }) => {\r\n\treturn (\r\n\t\t<header\r\n\t\t\tclassName={classnames('header', { [className]: className })}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<div className=\"header__inner\">\r\n\t\t\t\t\t<div className=\"header__column\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref=\"//pipedrive.com\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noopener noreferrer nofollow\"\r\n\t\t\t\t\t\t\tclassName=\"header__logo\"\r\n\t\t\t\t\t\t\titemScope=\"itemscope\"\r\n\t\t\t\t\t\t\titemType=\"https://schema.org/Organization\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Logo id=\"header-logo\" />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport './index.scss';\r\n\r\nconst Info = ({ items, className, ...restProps }) => {\r\n\treturn items && Object.keys(items).length ? (\r\n\t\t<ul\r\n\t\t\tclassName={classnames('info', { [className]: className })}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t{Object.keys(items).map(\r\n\t\t\t\t(item, key) =>\r\n\t\t\t\t\titems[item] && (\r\n\t\t\t\t\t\t<li key={`__info${key}`} className=\"info__item\">\r\n\t\t\t\t\t\t\t<span className=\"info__title\">\r\n\t\t\t\t\t\t\t\t<strong>{item}</strong>\r\n\t\t\t\t\t\t\t\t<span className=\"visuallyhidden\">:</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"info__content\">{items[item]}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t)}\r\n\t\t</ul>\r\n\t) : null;\r\n};\r\n\r\nInfo.propTypes = {\r\n\titems: PropTypes.object\r\n};\r\n\r\nInfo.defaultProps = {\r\n\titems: null\r\n};\r\n\r\nexport default Info;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport './index.scss';\r\n\r\nconst Input = React.forwardRef(\r\n\t(\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tclassName,\r\n\t\t\tautoFocus,\r\n\t\t\thasReset,\r\n\t\t\tonChange,\r\n\t\t\tonSubmit,\r\n\t\t\tonValidate,\r\n\t\t\tonStopTyping,\r\n\t\t\tstopTypingThreshold,\r\n\t\t\tvalidateOnStart,\r\n\t\t\tcontainerClassName,\r\n\t\t\t...restProps\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tconst [text, setText] = useState(value);\r\n\t\tconst [errors, setError] = useState([]);\r\n\t\tconst [typingTimeout, setTypingTimeout] = useState(null);\r\n\t\tconst handleChange = val => {\r\n\t\t\tsetText(val);\r\n\t\t\tonChange(val, ref.current);\r\n\t\t\ttypingTimeout && clearTimeout(typingTimeout);\r\n\t\t\tsetTypingTimeout(\r\n\t\t\t\tsetTimeout(() => onStopTyping(val, ref.current), stopTypingThreshold)\r\n\t\t\t);\r\n\t\t};\r\n\t\tconst handleValidation = input => {\r\n\t\t\tlet errors = [];\r\n\t\t\tconst isValid = input.checkValidity();\r\n\t\t\tif (!isValid) {\r\n\t\t\t\terrors.push(input.validationMessage);\r\n\t\t\t}\r\n\t\t\tsetError(errors);\r\n\t\t\tonValidate(errors);\r\n\t\t};\r\n\t\tconst handleSubmit = e => {\r\n\t\t\te.key === 'Enter' &&\r\n\t\t\t\tdocument.activeElement === ref.current &&\r\n\t\t\t\terrors.length === 0 &&\r\n\t\t\t\tonSubmit(ref.current);\r\n\t\t};\r\n\t\tconst handleReset = () => {\r\n\t\t\thandleChange('');\r\n\t\t\tref.current.focus();\r\n\t\t};\r\n\t\tuseEffect(() => {\r\n\t\t\tsetText(value);\r\n\t\t}, [value]);\r\n\t\tuseEffect(() => {\r\n\t\t\tref.current && handleValidation(ref.current);\r\n\t\t\t// eslint-disable-next-line\r\n\t\t}, [text]);\r\n\t\tuseEffect(() => {\r\n\t\t\tvalidateOnStart && handleValidation(ref.current);\r\n\t\t\tautoFocus && ref.current && ref.current.focus();\r\n\t\t\t// eslint-disable-next-line\r\n\t\t}, [ref.current]);\r\n\t\tuseEffect(() => {\r\n\t\t\twindow.addEventListener('keyup', handleSubmit);\r\n\t\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener('keyup', handleSubmit);\r\n\t\t\t};\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames('input', {\r\n\t\t\t\t\t[containerClassName]: containerClassName\r\n\t\t\t\t})}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tvalue={text}\r\n\t\t\t\t\tonChange={e => handleChange(e.target.value)}\r\n\t\t\t\t\tclassName={classnames('input__element', {\r\n\t\t\t\t\t\t[className]: className\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{...restProps}\r\n\t\t\t\t/>\r\n\t\t\t\t{hasReset && text.length ? (\r\n\t\t\t\t\t<div className=\"input__reset-container\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"input__reset\"\r\n\t\t\t\t\t\t\ttitle=\"Reset\"\r\n\t\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span className=\"visuallyhidden\">Reset</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{errors.length ? (\r\n\t\t\t\t\t<div className=\"input__tip\" role=\"alert\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{errors.map((error, key) => (\r\n\t\t\t\t\t\t\t\t<li key={`__error${key}`} className=\"input__tip-item\">\r\n\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nInput.propTypes = {\r\n\tvalue: PropTypes.string,\r\n\tspellCheck: PropTypes.oneOf(['true', 'false', true, false]),\r\n\tautoCapitalize: PropTypes.oneOf(['on', 'off']),\r\n\tautoCorrect: PropTypes.oneOf(['on', 'off']),\r\n\tautoComplete: PropTypes.oneOf(['on', 'off']),\r\n\tautoFocus: PropTypes.bool,\r\n\thasReset: PropTypes.bool,\r\n\tonChange: PropTypes.func,\r\n\tonSubmit: PropTypes.func,\r\n\tonValidate: PropTypes.func,\r\n\tonStopTyping: PropTypes.func,\r\n\tstopTypingThreshold: PropTypes.number,\r\n\tvalidateOnStart: PropTypes.bool,\r\n\tcontainerClassName: PropTypes.oneOfType([() => null, PropTypes.string])\r\n};\r\n\r\nInput.defaultProps = {\r\n\tvalue: '',\r\n\tspellCheck: 'false',\r\n\tautoCapitalize: 'off',\r\n\tautoCorrect: 'off',\r\n\tautoComplete: 'off',\r\n\tautoFocus: false,\r\n\thasReset: true,\r\n\tonChange: () => {},\r\n\tonSubmit: () => {},\r\n\tonValidate: () => {},\r\n\tonStopTyping: () => {},\r\n\tstopTypingThreshold: 500,\r\n\tvalidateOnStart: false,\r\n\tcontainerClassName: null\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport { randomString } from '../../utils';\r\nimport './index.scss';\r\n\r\nconst Logo = ({ id, width, color, className, ...restProps }) => {\r\n\tconst hash = randomString();\r\n\tid = id ? id : `logo-${hash}`;\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames('logo', { [className]: className })}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\tid={id}\r\n\t\t\t\trole=\"img\"\r\n\t\t\t\taria-labelledby={`${id}-title`}\r\n\t\t\t\tclassName=\"logo__image\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tviewBox=\"0 0 851.9 191.7\"\r\n\t\t\t\tfill={color}\r\n\t\t\t\twidth={width}\r\n\t\t\t\theight={(width * 29) / 124}\r\n\t\t\t>\r\n\t\t\t\t<title id={`${id}-title`}>Pipedrive logo</title>\r\n\t\t\t\t<path\r\n\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\td=\"M72.4 38.7c-17 0-26.9 7.7-31.6 12.9-.6-4.6-3.6-10.4-15.3-10.4H0v26.6h10.4c1.7 0 2.3.6 2.3 2.3v121.6H43v-48.8C47.7 147 56.7 153 70.9 153c29.6 0 50.3-23.4 50.3-57.2.1-34.1-19.6-57.1-48.8-57.1m-6.1 87.9c-16.3 0-23.7-15.6-23.7-30.2 0-22.9 12.4-31 24.2-31 14.3 0 24 12.3 24 30.7-.2 21.2-12.5 30.5-24.5 30.5m95.7-4.7V57.4c0-10.9-5.3-16.1-16-16.1h-27.2v26.6h10.4c1.7 0 2.3.6 2.3 2.3v64.2c0 11 5.1 16.1 16 16.1h27.2V124h-10.4c-1.6.2-2.3-.5-2.3-2.1m79.2-83.2c-17 0-26.9 7.7-31.7 12.9-.6-4.6-3.6-10.4-15.3-10.4h-25.5v26.6h10.4c1.7 0 2.3.6 2.3 2.3v121.6H212v-48.8c4.7 4.3 13.9 10.3 27.9 10.3 29.6 0 50.3-23.4 50.3-57.2 0-34.3-19.7-57.3-49-57.3m-6.1 87.9c-16.3 0-23.7-15.6-23.7-30.2 0-22.9 12.4-31 24.2-31 14.3 0 24 12.3 24 30.7-.1 21.2-12.4 30.5-24.5 30.5m112.1-87.9c-32.7 0-55.4 23.6-55.4 57.2 0 33.2 24.6 57.2 58.6 57.2 26.7 0 43-15.9 43.7-16.4l1.3-1.1-13.1-21.9-2 1.9c-.1.1-12.1 11.1-28 11.1-15.1 0-26.3-9.3-29-23.9h71.9l.1-2c0-.3.7-6.7.7-9.9 0-31.2-19.6-52.2-48.8-52.2m-22.8 41.5c3.3-10.7 11.6-16.9 22.9-16.9 9.1 0 16.1 7 17.4 16.9h-40.3zm181.9 41.7V16.3C506.3 5.4 501 .2 490.2.2H463v26.6h10.4c1.7 0 2.3.6 2.3 2.3v19.1c-4.4-4-13.1-9.3-28.3-9.3-29.4 0-50 23.6-50 57.2 0 34.2 19.7 57.2 48.9 57.2 16.7 0 26.4-7.7 31.2-13.1.6 4.7 3.7 10.7 15 10.7h26.2v-26.4h-10.1c-1.7-.3-2.3-1-2.3-2.6m-54.2 4.7c-14.4 0-23.7-12-23.7-30.7 0-18.1 9.7-30.3 24.2-30.3 16.4 0 23.7 15.1 23.7 30.2 0 22.8-12.4 30.8-24.2 30.8m134.2-86.9c-12.6 0-24.3 7.3-31.2 18.9v-2.4c0-9.9-5.4-15-16.1-15h-26v26.6h10.4c1.7 0 2.3.6 2.3 2.3v80.5H556v-43.7c0-5.7.7-11.3 2.1-16.4 4.6-15.1 16.7-20.4 26.4-20.4 3.4 0 6 .4 6 .4l2.6.4V40.6l-1.9-.3c.1-.2-2.4-.6-4.9-.6m50 82.2V57.4c0-10.9-5.3-16.1-16-16.1h-24.6v26.6h7.9c1.7 0 2.3.6 2.3 2.3v64.2c0 11 5.1 16.1 16 16.1h27.2V124h-10.4c-1.6.2-2.4-.5-2.4-2.1m114.5-80.6h-16.1c-9.4 0-14.6 3.3-17.6 11.3l-19.7 55.2c-.7 2-1.3 4.3-1.9 6.6-.6-2.1-1.3-4.6-2-6.6l-19.7-55.2c-3-8.1-7.9-11.3-17.6-11.3h-17.1v26.6h4.4c2.4 0 3.1.9 3.7 2.3l30.6 80.5H712l30.6-80.5c.6-1.4 1.3-2.3 3.7-2.3h4.7V41.3h-.2zm52.3-2.6c-32.7 0-55.4 23.6-55.4 57.2 0 33.2 24.6 57.2 58.6 57.2 26.7 0 43-15.9 43.7-16.4l1.3-1.1-13.1-21.9-2 1.9c-.1.1-12.1 11.1-27.9 11.1-15.1 0-26.3-9.3-29-23.9h71.9l.1-2c0-.3.6-6.7.6-9.9 0-31.2-19.6-52.2-48.8-52.2m-22.8 41.5c3.3-10.7 11.6-16.9 22.9-16.9 9.1 0 16.1 7 17.4 16.9h-40.3zM132.9 0h27v28.4h-27V0zm474.4 0h27v28.4h-27V0z\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</span>\r\n\t);\r\n};\r\n\r\nLogo.propTypes = {\r\n\tid: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\twidth: PropTypes.oneOfType([() => null, PropTypes.number]),\r\n\tcolor: PropTypes.oneOfType([() => null, PropTypes.string]) // TODO: Check for real possible colors\r\n};\r\n\r\nLogo.defaultProps = {\r\n\tid: null,\r\n\twidth: 124,\r\n\tcolor: '#f7f7f7'\r\n};\r\n\r\nexport default Logo;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport { Button } from '../../components';\r\nimport { randomString } from '../../utils';\r\nimport './index.scss';\r\n\r\nconst Modal = ({\r\n\tid,\r\n\tlabel,\r\n\ttitle,\r\n\tcontent,\r\n\tpageTitle,\r\n\thasCloseButton,\r\n\tcloseButtonContent,\r\n\tcloseButtonTitle,\r\n\textraFooterContent,\r\n\tcloseByOverlay,\r\n\topen,\r\n\tloading,\r\n\tonOpen,\r\n\tonClose,\r\n\tclassName,\r\n\t...restProps\r\n}) => {\r\n\tid = id || `modal--${randomString()}`;\r\n\tconst [isOpen, setOpen] = useState(open);\r\n\tconst handleEscape = e => {\r\n\t\te.key === 'Escape' && handleClose();\r\n\t};\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t\tdocument.title.replace(` - ${pageTitle}`, '');\r\n\t\tonClose();\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (isOpen && !loading) {\r\n\t\t\tsetTimeout(\r\n\t\t\t\t() => (document.title += pageTitle ? ` - ${pageTitle}` : '')\r\n\t\t\t);\r\n\t\t\tonOpen();\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [isOpen, loading]);\r\n\t// eslint-disable-next-line\r\n\tuseEffect(() => {\r\n\t\tconst previousActiveElement = document.activeElement;\r\n\t\tsetOpen(open);\r\n\t\twindow.addEventListener('keyup', handleEscape);\r\n\t\tif (open) {\r\n\t\t\tdocument.documentElement.style.overflow = 'hidden';\r\n\t\t\tdocument.getElementsByTagName('body')[0].style.overflowY = 'scroll';\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keyup', handleEscape);\r\n\t\t\tdocument.getElementsByTagName('body')[0].style.overflow = 'hidden';\r\n\t\t\tdocument.documentElement.style.overflowY = 'scroll';\r\n\t\t\tpreviousActiveElement.focus();\r\n\t\t};\r\n\t});\r\n\treturn isOpen ? (\r\n\t\t<div\r\n\t\t\tid={id}\r\n\t\t\trole=\"dialog\"\r\n\t\t\taria-modal=\"true\"\r\n\t\t\taria-labelledby={`${id}__label`}\r\n\t\t\tonClick={e => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.target === e.currentTarget && closeByOverlay && handleClose();\r\n\t\t\t}}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'modal',\r\n\t\t\t\t{ [className]: className },\r\n\t\t\t\t{ 'modal--is-loading': loading }\r\n\t\t\t)}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t{label || title ? (\r\n\t\t\t\t<span\r\n\t\t\t\t\tid={`${id}__label`}\r\n\t\t\t\t\tclassName=\"visuallyhidden\"\r\n\t\t\t\t\taria-live=\"polite\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{label || title}\r\n\t\t\t\t</span>\r\n\t\t\t) : null}\r\n\t\t\t<div className=\"modal__inner\">\r\n\t\t\t\t<header className=\"modal__header\">\r\n\t\t\t\t\t<h2 className=\"modal__title\">{title}</h2>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"modal__close\"\r\n\t\t\t\t\t\ttitle=\"Close this modal\"\r\n\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"visuallyhidden\">Close</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</header>\r\n\t\t\t\t{content ? (\r\n\t\t\t\t\t<section role=\"main\" className=\"modal__content\">\r\n\t\t\t\t\t\t{content}\r\n\t\t\t\t\t</section>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{hasCloseButton || extraFooterContent ? (\r\n\t\t\t\t\t<footer className=\"modal__footer\">\r\n\t\t\t\t\t\t{extraFooterContent}\r\n\t\t\t\t\t\t{hasCloseButton ? (\r\n\t\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\tcloseButtonTitle || 'Back to the list'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{closeButtonContent || (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"visuallyhidden\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\tto the list\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</footer>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : null;\r\n};\r\n\r\nModal.propTypes = {\r\n\tid: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tlabel: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\ttitle: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tcontent: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\tpageTitle: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\thasCloseButton: PropTypes.bool,\r\n\tcloseButtonContent: PropTypes.oneOfType([() => null, PropTypes.element]),\r\n\tcloseButtonTitle: PropTypes.oneOfType([() => null, PropTypes.string]),\r\n\textraFooterContent: PropTypes.oneOfType([() => null, PropTypes.element]),\r\n\tcloseByOverlay: PropTypes.bool,\r\n\topen: PropTypes.bool,\r\n\tloading: PropTypes.bool,\r\n\tonOpen: PropTypes.func,\r\n\tonClose: PropTypes.func\r\n};\r\n\r\nModal.defaultProps = {\r\n\tid: null,\r\n\tlabel: null,\r\n\ttitle: null,\r\n\tcontent: null,\r\n\tpageTitle: null,\r\n\thasCloseButton: true,\r\n\tcloseButtonContent: null,\r\n\tcloseButtonTitle: null,\r\n\textraFooterContent: null,\r\n\tcloseByOverlay: true,\r\n\topen: false,\r\n\tloading: false,\r\n\tonOpen: () => {},\r\n\tonClose: () => {}\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useEffect, Suspense } from 'react';\r\nimport classnames from 'classnames';\r\nimport { Footer, Header, Spinner } from '../../components';\r\nimport './index.scss';\r\n\r\nconst Content = React.lazy(() => import('../Content'));\r\n\r\nconst Page = ({\r\n\ttitle,\r\n\ttitleExtra,\r\n\tpageTitle,\r\n\tsearch,\r\n\tnavigation,\r\n\tpageContent,\r\n\tclassName,\r\n\t...restProps\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tdocument.title = `Pipebook — ${pageTitle ? pageTitle : title}`;\r\n\t});\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classnames('container', { [className]: className })}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t<Header />\r\n\t\t\t<Suspense\r\n\t\t\t\tfallback={\r\n\t\t\t\t\t<div className=\"content content--is-loading\">\r\n\t\t\t\t\t\t<Spinner text={`${title} is loading ...`} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Content\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\ttitleExtra={titleExtra}\r\n\t\t\t\t\tsearch={search}\r\n\t\t\t\t\tnavigation={navigation}\r\n\t\t\t\t\tpageContent={pageContent}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>\r\n\t\t\t<Footer />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Page;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\nimport './index.scss';\r\n\r\nconst Pagination = ({\r\n\tcurrentPage,\r\n\tgroupCount,\r\n\thasNextPage,\r\n\tbasePath,\r\n\tpathPageSelector,\r\n\tclassName,\r\n\t...restProps\r\n}) => {\r\n\tconst prevGroupPermitted = currentPage > groupCount;\r\n\tconst prevPagePermitted = currentPage > 1;\r\n\tconst nextPagePermitted = hasNextPage;\r\n\tconst nextGroupPermitted = false; // Always disabled, because Pipedrive's API doesn't provide total count\r\n\tconst currentPageIndex =\r\n\t\tcurrentPage % groupCount === 0 ? groupCount : currentPage % groupCount;\r\n\tconst countOfPrevPagesInGroup = currentPageIndex - 1;\r\n\tconst countOfNextPagesInGroup = groupCount - countOfPrevPagesInGroup - 1; // Again because of not having the total count, there will be a UI flash\r\n\tconst getPath = page => {\r\n\t\treturn basePath.replace(pathPageSelector, page);\r\n\t};\r\n\treturn (\r\n\t\t<nav aria-label=\"Pagination\">\r\n\t\t\t<ol\r\n\t\t\t\tclassName={classnames('pagination', {\r\n\t\t\t\t\t[className]: className\r\n\t\t\t\t})}\r\n\t\t\t\t{...restProps}\r\n\t\t\t>\r\n\t\t\t\t<li className=\"pagination__item pagination__item--previous-group\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\tprevGroupPermitted\r\n\t\t\t\t\t\t\t\t? getPath(currentPage - groupCount)\r\n\t\t\t\t\t\t\t\t: '#'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclassName={classnames('pagination__link', {\r\n\t\t\t\t\t\t\t'pagination__link--is-disabled': !prevGroupPermitted\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\ttitle=\"Previous set of pages\"\r\n\t\t\t\t\t\taria-disabled={!prevGroupPermitted}\r\n\t\t\t\t\t\t{...(prevGroupPermitted ? {} : { tabIndex: '-1' })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"visuallyhidden\">\r\n\t\t\t\t\t\t\tPrevious set of pages\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className=\"pagination__item pagination__item--previous-page\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={prevPagePermitted ? getPath(currentPage - 1) : '#'}\r\n\t\t\t\t\t\tclassName={classnames('pagination__link', {\r\n\t\t\t\t\t\t\t'pagination__link--is-disabled': !prevPagePermitted\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\ttitle=\"Previous page\"\r\n\t\t\t\t\t\taria-disabled={!prevPagePermitted}\r\n\t\t\t\t\t\t{...(prevPagePermitted ? {} : { tabIndex: '-1' })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"visuallyhidden\">Previous page</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t{countOfPrevPagesInGroup\r\n\t\t\t\t\t? Array.apply(null, Array(countOfPrevPagesInGroup)).map(\r\n\t\t\t\t\t\t\t(item, i) => {\r\n\t\t\t\t\t\t\t\tconst page =\r\n\t\t\t\t\t\t\t\t\tcurrentPage - countOfPrevPagesInGroup + i;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tkey={`__prevpage${i}`}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"pagination__item\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={getPath(page)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"pagination__link\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"visuallyhidden\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage #\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: null}\r\n\t\t\t\t<li className=\"pagination__item pagination__item--is-active\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={getPath(currentPage)}\r\n\t\t\t\t\t\tclassName=\"pagination__link\"\r\n\t\t\t\t\t\taria-current=\"page\"\r\n\t\t\t\t\t\ttabIndex=\"-1\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"visuallyhidden\">page #</span>\r\n\t\t\t\t\t\t{currentPage}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t{countOfNextPagesInGroup\r\n\t\t\t\t\t? Array.apply(null, Array(countOfNextPagesInGroup)).map(\r\n\t\t\t\t\t\t\t(item, i) => {\r\n\t\t\t\t\t\t\t\tconst page = currentPage + i + 1;\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tkey={`__nextpage${i}`}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"pagination__item\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t\t\t\t\t\tnextPagePermitted\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? getPath(page)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '#'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'pagination__link',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'pagination__link--is-disabled': !nextPagePermitted\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\taria-disabled={!nextPagePermitted}\r\n\t\t\t\t\t\t\t\t\t\t\t{...(nextPagePermitted\r\n\t\t\t\t\t\t\t\t\t\t\t\t? {}\r\n\t\t\t\t\t\t\t\t\t\t\t\t: { tabIndex: '-1' })}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"visuallyhidden\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage #\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: null}\r\n\t\t\t\t<li className=\"pagination__item pagination__item--next-page\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={nextPagePermitted ? getPath(currentPage + 1) : '#'}\r\n\t\t\t\t\t\tclassName={classnames('pagination__link', {\r\n\t\t\t\t\t\t\t'pagination__link--is-disabled': !nextPagePermitted\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\ttitle=\"Next page\"\r\n\t\t\t\t\t\taria-disabled={!nextPagePermitted}\r\n\t\t\t\t\t\t{...(nextPagePermitted ? {} : { tabIndex: '-1' })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"visuallyhidden\">Next page</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className=\"pagination__item pagination__item--next-group\">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\tnextGroupPermitted\r\n\t\t\t\t\t\t\t\t? getPath(currentPage + groupCount)\r\n\t\t\t\t\t\t\t\t: '#'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclassName={classnames('pagination__link', {\r\n\t\t\t\t\t\t\t'pagination__link--is-disabled': !nextGroupPermitted\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\ttitle=\"Next set of pages\"\r\n\t\t\t\t\t\taria-disabled={!nextGroupPermitted}\r\n\t\t\t\t\t\t{...(nextGroupPermitted ? {} : { tabIndex: '-1' })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"visuallyhidden\">\r\n\t\t\t\t\t\t\tNext set of pages\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nPagination.propTypes = {\r\n\tcurrentPage: PropTypes.number.isRequired,\r\n\tgroupCount: PropTypes.number.isRequired,\r\n\thasNextPage: PropTypes.bool.isRequired,\r\n\tbasePath: PropTypes.string.isRequired,\r\n\tpathPageSelector: PropTypes.string.isRequired\r\n};\r\n\r\nPagination.defaultProps = {\r\n\tcurrentPage: 1,\r\n\tgroupCount: 3,\r\n\thasNextPage: false,\r\n\tbasePath: '/page/{page}',\r\n\tpathPageSelector: '{page}'\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport { Spinner } from '../../components';\r\nimport './index.scss';\r\n\r\nconst Prompt = ({\r\n\ttext,\r\n\tvisible,\r\n\ttype,\r\n\thasLoading,\r\n\tonClick,\r\n\tclassName,\r\n\t...restProps\r\n}) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"alert\"\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'prompt',\r\n\t\t\t\t{ [className]: className },\r\n\t\t\t\t{ [`prompt--${type}`]: type },\r\n\t\t\t\t{ [`prompt--is-visible`]: visible }\r\n\t\t\t)}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t<div className=\"prompt__inner\" onClick={() => onClick()}>\r\n\t\t\t\t{hasLoading && !['success', 'error'].includes(type) ? (\r\n\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\ttext={text}\r\n\t\t\t\t\t\tsilent={!visible}\r\n\t\t\t\t\t\tclassName=\"prompt__spinner\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<span className=\"prompt__text\">{text}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nPrompt.propTypes = {\r\n\ttext: PropTypes.oneOfType([() => null, PropTypes.string.isRequired]),\r\n\tvisible: PropTypes.bool,\r\n\ttype: PropTypes.oneOfType([\r\n\t\t() => null,\r\n\t\tPropTypes.oneOf(['success', 'error', 'default'])\r\n\t]),\r\n\thasLoading: PropTypes.bool,\r\n\tonClick: PropTypes.func\r\n};\r\n\r\nPrompt.defaultProps = {\r\n\ttext: null,\r\n\tvisible: false,\r\n\ttype: null,\r\n\thasLoading: false,\r\n\tonClick: () => {}\r\n};\r\n\r\nexport default Prompt;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport './index.scss';\r\n\r\nconst Spinner = ({ size, text, silent, style, className, ...restProps }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classnames('spinner', { [className]: className })}\r\n\t\t\tstyle={{ ...style, ...(size ? { fontSize: size * 10 } : {}) }}\r\n\t\t\t{...restProps}\r\n\t\t>\r\n\t\t\t<span\r\n\t\t\t\t{...(silent ? {} : { role: 'alert' })}\r\n\t\t\t\taria-busy=\"true\"\r\n\t\t\t\tclassName=\"visuallyhidden\"\r\n\t\t\t>\r\n\t\t\t\t{text}\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nSpinner.propTypes = {\r\n\tsize: PropTypes.number,\r\n\ttext: PropTypes.string,\r\n\tsilent: PropTypes.bool\r\n};\r\n\r\nSpinner.defaultProps = {\r\n\tsize: null,\r\n\ttext: 'Loading ...',\r\n\tsilent: false\r\n};\r\n\r\nexport default Spinner;\r\n","import axios from 'axios';\r\nimport { prepareParamsForApi as prepareParams } from '../../utils';\r\nimport { prepareDataForApi as prepareData } from '../../utils';\r\nimport {\r\n\tPERSONS__FETCH_STARTED,\r\n\tPERSONS__FETCH_SUCCEEDED,\r\n\tPERSONS__FETCH_FAILED,\r\n\tPERSONS__ADD_STARTED,\r\n\tPERSONS__ADD_SUCCEEDED,\r\n\tPERSONS__ADD_FAILED,\r\n\tPERSON__PRIORITIZE_STARTED,\r\n\tPERSON__PRIORITIZE_SUCCEEDED,\r\n\tPERSON__PRIORITIZE_FAILED,\r\n\tPERSON__FETCH_STARTED,\r\n\tPERSON__FETCH_SUCCEEDED,\r\n\tPERSON__FETCH_FAILED,\r\n\tPERSON__DELETE_STARTED,\r\n\tPERSON__DELETE_SUCCEEDED,\r\n\tPERSON__DELETE_FAILED,\r\n\tSEARCH__FETCH_STARTED,\r\n\tSEARCH__FETCH_SUCCEEDED,\r\n\tSEARCH__FETCH_FAILED\r\n} from '../../types';\r\nimport {\r\n\tAPI_TOKEN,\r\n\tAPI_URL,\r\n\tAPI_VARIABLE__TOKEN,\r\n\tAPI_ENDPOINT__PERSONS,\r\n\tAPI_ENDPOINT__PERSON,\r\n\tAPI_ENDPOINT__SEARCH,\r\n\tCUSTOM_FIELDS__PERSONS as customFileds\r\n} from '../../constants';\r\n\r\nlet requests = {};\r\n\r\nconst priorityField = Object.keys(customFileds).filter(\r\n\tid => customFileds[id] === 'priority'\r\n);\r\n\r\nexport const request = (\r\n\tid = Math.random(),\r\n\turl = null,\r\n\tdata = {},\r\n\tparams = {},\r\n\tmethod = 'GET',\r\n\tstartType = '',\r\n\tsuccessType = '',\r\n\tfailureType = '',\r\n\tsuccessCallback = null,\r\n\thandleCallbackData = null,\r\n\tcallbackExecutionDelay = 0\r\n) => {\r\n\tif (url) {\r\n\t\treturn (dispatch, getState) => {\r\n\t\t\tObject.keys(requests).indexOf(id) !== -1 && requests[id].cancel();\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: startType,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tparams\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tparams[API_VARIABLE__TOKEN] = API_TOKEN;\r\n\t\t\tconst CancelToken = axios.CancelToken;\r\n\t\t\tconst source = CancelToken.source();\r\n\t\t\taxios({\r\n\t\t\t\turl,\r\n\t\t\t\tdata,\r\n\t\t\t\tparams,\r\n\t\t\t\tmethod,\r\n\t\t\t\tcancelToken: source.token\r\n\t\t\t})\r\n\t\t\t\t.then(({ data: response }) => {\r\n\t\t\t\t\tif (!response.success) {\r\n\t\t\t\t\t\tlet error = [];\r\n\t\t\t\t\t\tresponse.error && error.push(response.error);\r\n\t\t\t\t\t\tresponse.error_info && error.push(response.error_info);\r\n\t\t\t\t\t\terror = error.length\r\n\t\t\t\t\t\t\t? error.join('. ').replce('.. ', '. ')\r\n\t\t\t\t\t\t\t: JSON.stringify(response);\r\n\t\t\t\t\t\tthrow Error(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: successType,\r\n\t\t\t\t\t\tpayload: response\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttypeof successCallback == 'function' &&\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\tsuccessCallback(\r\n\t\t\t\t\t\t\t\t\ttypeof handleCallbackData == 'function'\r\n\t\t\t\t\t\t\t\t\t\t? handleCallbackData(\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetState().ListPage\r\n\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t: getState().ListPage\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}, callbackExecutionDelay);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\t!axios.isCancel(error) &&\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: failureType,\r\n\t\t\t\t\t\t\tpayload: error\r\n\t\t\t\t\t\t\t\t? error.message\r\n\t\t\t\t\t\t\t\t\t? error.message\r\n\t\t\t\t\t\t\t\t\t: error\r\n\t\t\t\t\t\t\t\t: 'Sorry, an unexpected error occured. Please try again later.'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tdelete requests[id];\r\n\t\t\t\t});\r\n\t\t\trequests[id] = source;\r\n\t\t};\r\n\t}\r\n};\r\n\r\nexport const fetchPersons = input => {\r\n\tconst requestId = 'PERSONS__LIST';\r\n\tconst url = API_URL + API_ENDPOINT__PERSONS;\r\n\tconst data = {};\r\n\tinput.sort = priorityField.length ? priorityField[0] + ' asc' : null;\r\n\tconst params = prepareParams(input);\r\n\tconst method = 'GET';\r\n\tconst startType = PERSONS__FETCH_STARTED;\r\n\tconst successType = PERSONS__FETCH_SUCCEEDED;\r\n\tconst failureType = PERSONS__FETCH_FAILED;\r\n\treturn request(\r\n\t\trequestId,\r\n\t\turl,\r\n\t\tdata,\r\n\t\tparams,\r\n\t\tmethod,\r\n\t\tstartType,\r\n\t\tsuccessType,\r\n\t\tfailureType\r\n\t);\r\n};\r\n\r\nexport const addPerson = (input, term) => {\r\n\tconst requestId = 'PERSON__ADD';\r\n\tconst url = API_URL + API_ENDPOINT__PERSONS;\r\n\tconst data = prepareData(input);\r\n\tconst params = {};\r\n\tconst method = 'POST';\r\n\tconst startType = PERSONS__ADD_STARTED;\r\n\tconst successType = PERSONS__ADD_SUCCEEDED;\r\n\tconst failureType = PERSONS__ADD_FAILED;\r\n\tconst handleData = data => {\r\n\t\treturn { ...data.listPeople, term };\r\n\t};\r\n\treturn request(\r\n\t\trequestId,\r\n\t\turl,\r\n\t\tdata,\r\n\t\tparams,\r\n\t\tmethod,\r\n\t\tstartType,\r\n\t\tsuccessType,\r\n\t\tfailureType,\r\n\t\tterm ? searchPersons : fetchPersons,\r\n\t\thandleData,\r\n\t\t2000 // Just to make sure that new record is settled in DB considering API queues\r\n\t);\r\n};\r\n\r\nexport const fetchPerson = ({ id }) => {\r\n\tconst requestId = 'PERSON__VIEW';\r\n\tlet url = API_URL + API_ENDPOINT__PERSON;\r\n\tconst data = {};\r\n\tconst params = {};\r\n\tconst method = 'GET';\r\n\tconst startType = PERSON__FETCH_STARTED;\r\n\tconst successType = PERSON__FETCH_SUCCEEDED;\r\n\tconst failureType = PERSON__FETCH_FAILED;\r\n\turl = url.replace('{id}', id);\r\n\treturn request(\r\n\t\trequestId,\r\n\t\turl,\r\n\t\tdata,\r\n\t\tparams,\r\n\t\tmethod,\r\n\t\tstartType,\r\n\t\tsuccessType,\r\n\t\tfailureType\r\n\t);\r\n};\r\n\r\nexport const deletePerson = ({ id, term }) => {\r\n\tconst requestId = 'PERSON__DELETE';\r\n\tlet url = API_URL + API_ENDPOINT__PERSON;\r\n\tconst data = {};\r\n\tconst params = {};\r\n\tconst method = 'DELETE';\r\n\tconst startType = PERSON__DELETE_STARTED;\r\n\tconst successType = PERSON__DELETE_SUCCEEDED;\r\n\tconst failureType = PERSON__DELETE_FAILED;\r\n\tconst handleData = data => {\r\n\t\treturn { ...data.listPeople, term };\r\n\t};\r\n\turl = url.replace('{id}', id);\r\n\treturn request(\r\n\t\trequestId,\r\n\t\turl,\r\n\t\tdata,\r\n\t\tparams,\r\n\t\tmethod,\r\n\t\tstartType,\r\n\t\tsuccessType,\r\n\t\tfailureType,\r\n\t\tterm ? searchPersons : fetchPersons,\r\n\t\thandleData\r\n\t);\r\n};\r\n\r\nexport const searchPersons = input => {\r\n\tconst requestId = 'PERSONS__LIST';\r\n\tconst url = API_URL + API_ENDPOINT__SEARCH;\r\n\tconst data = {};\r\n\tconst params = prepareParams(input);\r\n\tconst method = 'GET';\r\n\tconst startType = SEARCH__FETCH_STARTED;\r\n\tconst successType = SEARCH__FETCH_SUCCEEDED;\r\n\tconst failureType = SEARCH__FETCH_FAILED;\r\n\treturn request(\r\n\t\trequestId,\r\n\t\turl,\r\n\t\tdata,\r\n\t\tparams,\r\n\t\tmethod,\r\n\t\tstartType,\r\n\t\tsuccessType,\r\n\t\tfailureType\r\n\t);\r\n};\r\n\r\nexport const updatePriority = ({ id, priority }) => {\r\n\tconst requestId = 'PERSON__PRIORITY';\r\n\tlet url = API_URL + API_ENDPOINT__PERSON;\r\n\tconst data = {\r\n\t\t...(priorityField.length ? { [priorityField[0]]: priority } : {})\r\n\t};\r\n\tconst params = {};\r\n\tconst method = 'PUT';\r\n\tconst startType = PERSON__PRIORITIZE_STARTED;\r\n\tconst successType = PERSON__PRIORITIZE_SUCCEEDED;\r\n\tconst failureType = PERSON__PRIORITIZE_FAILED;\r\n\tconst handleData = data => {\r\n\t\treturn data.listPeople;\r\n\t};\r\n\turl = url.replace('{id}', id);\r\n\treturn request(\r\n\t\trequestId,\r\n\t\turl,\r\n\t\tdata,\r\n\t\tparams,\r\n\t\tmethod,\r\n\t\tstartType,\r\n\t\tsuccessType,\r\n\t\tfailureType,\r\n\t\tfetchPersons,\r\n\t\thandleData\r\n\t);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n\tsortableHandle,\r\n\tsortableElement,\r\n\tsortableContainer\r\n} from 'react-sortable-hoc';\r\nimport arrayMove from 'array-move';\r\nimport {\r\n\tAvatar,\r\n\tButton,\r\n\tCard,\r\n\tInfo,\r\n\tInput,\r\n\tModal,\r\n\tPage,\r\n\tPagination,\r\n\tPrompt\r\n} from '../../components';\r\nimport {\r\n\tfetchPersons,\r\n\tsearchPersons,\r\n\tfetchPerson,\r\n\taddPerson,\r\n\tdeletePerson,\r\n\tupdatePriority\r\n} from '../../actions';\r\nimport { getUrlParams, getMinimumDifference } from '../../utils';\r\nimport { CUSTOM_FIELDS__PERSONS as customFilds } from '../../constants';\r\nimport './index.scss';\r\n\r\nconst pathPattern = '/list(/page)?/:page?(/search)?/:term?/';\r\nconst hashPattern = '#/:entity/:action/:id?/';\r\nconst grabbingElementClass = 'is--grabbing';\r\nconst movingElementClass = 'is--moving';\r\nconst movingElementParentClass = 'has-moving-children';\r\nconst DragHandle = sortableHandle(() => <div className=\"card__handle\" />);\r\nconst SortableItem = sortableElement(cardProps => <Card {...cardProps} />);\r\nconst SortableList = sortableContainer(({ items, term, disable }) => {\r\n\treturn (\r\n\t\t<ol className=\"card-list\">\r\n\t\t\t{items.map((listItem, index) => (\r\n\t\t\t\t<SortableItem\r\n\t\t\t\t\tkey={`__card${index}`}\r\n\t\t\t\t\tindex={index}\r\n\t\t\t\t\ttitle={listItem.name}\r\n\t\t\t\t\tclassName={term ? '' : 'is--draggable'}\r\n\t\t\t\t\ttitleExtra={\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`#/person/delete/${listItem.id}/`}\r\n\t\t\t\t\t\t\ttitle=\"Delete this person\"\r\n\t\t\t\t\t\t\tclassName=\"button button--red button--xsmall\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t<span className=\"visuallyhidden\"> this person</span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontentExtra={disable ? null : <DragHandle />}\r\n\t\t\t\t\thighlight={term}\r\n\t\t\t\t\tlink={`#/person/view/${listItem.id}/`}\r\n\t\t\t\t\tmetadata={{\r\n\t\t\t\t\t\t...(listItem.organization\r\n\t\t\t\t\t\t\t? { organization: listItem.organization }\r\n\t\t\t\t\t\t\t: {})\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tavatar={listItem.picture}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</ol>\r\n\t);\r\n});\r\n\r\nconst List = () => {\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tconst dispatch = useDispatch();\r\n\tconst state = useSelector(state => state.ListPage);\r\n\tconst path = getUrlParams(location.pathname, pathPattern);\r\n\tconst hash = getUrlParams(location.hash, hashPattern);\r\n\tconst currentPage = parseInt(path.page) || 1;\r\n\tconst pageStartIndex = state.listPeople.limit * (currentPage - 1);\r\n\tconst items = state.listPeople.items;\r\n\tconst searchInputRef = React.createRef();\r\n\tconst addPersonInputRef = React.createRef();\r\n\tconst [term, setTerm] = useState(path.term);\r\n\tconst [isModalOpen, setModalOpen] = useState(false);\r\n\tconst [promptVisible, setPromptVisible] = useState(true);\r\n\tconst [pageItems, setItems] = useState(items);\r\n\tconst [modalContent, setModalContent] = useState(items);\r\n\tconst [activePerson, setActivePerson] = useState(state.viewPerson.data);\r\n\tconst [addPersonFormValidated, setAddPersonFormValidated] = useState(false);\r\n\tconst showPrompt =\r\n\t\tstate.lastAction &&\r\n\t\t(state[state.lastAction].loading ||\r\n\t\t\t(state[state.lastAction].error && promptVisible));\r\n\tconst needsModal =\r\n\t\thash.action &&\r\n\t\t(['add', 'delete'].includes(hash.action.toLowerCase()) ||\r\n\t\t\t(hash.action === 'view' && !state.viewPerson.error));\r\n\tconst onModalClose = () => {\r\n\t\tsetModalOpen(false);\r\n\t\thistory.push(location.pathname);\r\n\t};\r\n\tconst onSubmitAddPerson = input => {\r\n\t\tonModalClose();\r\n\t\tdispatch(\r\n\t\t\taddPerson(\r\n\t\t\t\t{\r\n\t\t\t\t\tname: input ? input.value : addPersonInputRef.current.value,\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t\tSetting the priority of the entry to current time in microseconds, to\r\n\t\t\t\t\t\tinsure newly added record will be placed at the end of the list, even\r\n\t\t\t\t\t\tif no custom priority provided. This will increase the useful life of\r\n\t\t\t\t\t\tthe prioritization precedure (with one update).\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tpriority:\r\n\t\t\t\t\t\t(((performance.timing && performance.timing.navigationStart) ||\r\n\t\t\t\t\t\t\tDate.now()) +\r\n\t\t\t\t\t\t\tperformance.now()) *\r\n\t\t\t\t\t\t1e3\r\n\t\t\t\t},\r\n\t\t\t\tterm\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\tconst onSubmitDeletePerson = id => {\r\n\t\tonModalClose();\r\n\t\tdispatch(deletePerson({ id, term }));\r\n\t};\r\n\tconst onTermChange = term => {\r\n\t\tsetTerm(term);\r\n\t};\r\n\tconst onStopTyping = term => {\r\n\t\tconst termLength = term.trim().length;\r\n\t\tif (termLength === 0) {\r\n\t\t\thistory.push('/list/');\r\n\t\t} else if (termLength > 1) {\r\n\t\t\thistory.push(`/list/page/1/search/${term}/`);\r\n\t\t}\r\n\t};\r\n\tconst onSortStart = ({ node, index, collection, isKeySorting }, event) => {\r\n\t\tdocument.documentElement.classList.add(grabbingElementClass);\r\n\t\tnode.classList.add(movingElementClass);\r\n\t\tnode.parentNode.classList.add(movingElementParentClass);\r\n\t};\r\n\tconst onSortEnd = ({ oldIndex, newIndex }) => {\r\n\t\tdocument.documentElement.classList.remove(grabbingElementClass);\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName(movingElementClass)[0]\r\n\t\t\t.classList.remove(movingElementClass);\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName(movingElementParentClass)[0]\r\n\t\t\t.classList.remove(movingElementParentClass);\r\n\t\tif (oldIndex !== newIndex) {\r\n\t\t\t/*\r\n\t\t\t\t== Updating priority in presence of pagination only with one update ==\r\n\r\n\t\t\t\tSince Pipedrive's API does not support multiple updates with one query\r\n\t\t\t\t(to apply the new priorities of current-page persons), the only way to\r\n\t\t\t\tsolve the problem was to use big decimal and post-decimal figures. But\r\n\t\t\t\tthe obvious bug is that, maximum allowed length of decimals will limit \r\n\t\t\t\tthe prioritization.\r\n\t\t\t\tBy the way, forget about having one update request per person, because\r\n\t\t\t\tit leads to have 100 requests at once if the page limit is set to 100.\r\n\t\t\t\tMaybe leveraging linked list data structure work. But I prefer to work\r\n\t\t\t\ton it in the future if needed.\r\n\t\t\t*/\r\n\t\t\tconst portion =\r\n\t\t\t\tgetMinimumDifference(pageItems.map(item => item.priority || 1)) /\r\n\t\t\t\tstate.listPeople.limit;\r\n\t\t\tconst prioritizedItem = pageItems[oldIndex];\r\n\t\t\tconst newPriority =\r\n\t\t\t\t(pageItems[newIndex].priority || 1) +\r\n\t\t\t\t(newIndex < oldIndex ? -1 : 1) * portion;\r\n\t\t\tdispatch(\r\n\t\t\t\tupdatePriority({\r\n\t\t\t\t\tid: prioritizedItem.id,\r\n\t\t\t\t\tpriority: newPriority\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tsetItems(arrayMove(pageItems, oldIndex, newIndex));\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (term) {\r\n\t\t\tif (term.trim().length > 1) {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsearchPersons({\r\n\t\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\t\tterm,\r\n\t\t\t\t\t\tstart: pageStartIndex\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdispatch(\r\n\t\t\t\tfetchPersons({\r\n\t\t\t\t\t...state.listPeople,\r\n\t\t\t\t\tstart: pageStartIndex\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentPage, term]);\r\n\tuseEffect(() => {\r\n\t\tif (hash.action === 'view') {\r\n\t\t\t/*\r\n\t\t\t\t======= Check for missing details in current list data =======\r\n\r\n\t\t\t\tThis will prevent useless requests. Pipedrive API gives almost\r\n\t\t\t\tall useful detail fields in the response of the list endpoint,\r\n\t\t\t\tbut this is not true about search endpoint. So it is better to\r\n\t\t\t\tcheck for the presence of details, before starting a new call.\r\n\t\t\t*/\r\n\t\t\tif (\r\n\t\t\t\t(!activePerson || activePerson.id !== parseInt(hash.id)) &&\r\n\t\t\t\t!state.viewPerson.error\r\n\t\t\t) {\r\n\t\t\t\tconst currentItem =\r\n\t\t\t\t\tpageItems &&\r\n\t\t\t\t\tpageItems.length &&\r\n\t\t\t\t\tpageItems.filter(item => parseInt(item.id) === parseInt(hash.id));\r\n\t\t\t\tif (\r\n\t\t\t\t\t!(currentItem && currentItem.length) ||\r\n\t\t\t\t\tObject.values(customFilds).filter(\r\n\t\t\t\t\t\tx => !Object.keys(currentItem[0]).includes(x)\r\n\t\t\t\t\t).length\r\n\t\t\t\t) {\r\n\t\t\t\t\tdispatch(fetchPerson({ id: hash.id }));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetActivePerson(currentItem[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [hash.id, hash.action, pageItems]);\r\n\tuseEffect(() => {\r\n\t\tswitch (hash.action) {\r\n\t\t\tcase 'add':\r\n\t\t\t\tsetModalContent(addPersonModal);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'delete':\r\n\t\t\t\tsetModalContent(deletePersonModal);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'view':\r\n\t\t\t\tsetModalContent(viewPersonModal);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t}\r\n\t\tsetModalOpen(needsModal);\r\n\t\t// eslint-disable-next-line\r\n\t}, [hash.action, needsModal, addPersonFormValidated, activePerson]);\r\n\tuseEffect(() => {\r\n\t\tsetItems(items);\r\n\t}, [items]);\r\n\tuseEffect(() => {\r\n\t\tsetActivePerson(state.viewPerson.data);\r\n\t}, [state.viewPerson.data]);\r\n\tuseEffect(() => {\r\n\t\tsetTerm(path.term);\r\n\t}, [path.term]);\r\n\tconst addPersonModal = {\r\n\t\tid: 'modal--add-person',\r\n\t\tlabel: \"Add new person to the people's list\",\r\n\t\ttitle: 'Add New Person',\r\n\t\tcontent: (\r\n\t\t\t<Input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"name\"\r\n\t\t\t\tplaceholder=\"Enter the name of the person ...\"\r\n\t\t\t\tcontainerClassName=\"add-person__input mv-5\"\r\n\t\t\t\trequired={true}\r\n\t\t\t\tautoFocus={true}\r\n\t\t\t\tref={addPersonInputRef}\r\n\t\t\t\tvalidateOnStart={true}\r\n\t\t\t\tonValidate={errors => setAddPersonFormValidated(!errors.length)}\r\n\t\t\t\tonSubmit={ref => onSubmitAddPerson(ref)}\r\n\t\t\t/>\r\n\t\t),\r\n\t\textraFooterContent: (\r\n\t\t\t<Button color=\"green\">\r\n\t\t\t\t<button\r\n\t\t\t\t\ttitle=\"Add this person\"\r\n\t\t\t\t\tonClick={() => onSubmitAddPerson()}\r\n\t\t\t\t\tdisabled={!addPersonFormValidated}\r\n\t\t\t\t>\r\n\t\t\t\t\tAdd\r\n\t\t\t\t\t<span className=\"visuallyhidden\"> this person</span>\r\n\t\t\t\t</button>\r\n\t\t\t</Button>\r\n\t\t)\r\n\t};\r\n\tconst deletePersonModal = {\r\n\t\tid: 'modal--delete-person',\r\n\t\tlabel: \"Delete the person from the people's list\",\r\n\t\ttitle: 'Delete Person',\r\n\t\tcontent: (\r\n\t\t\t<p>\r\n\t\t\t\tAre you sure that you want to delete this person?{' '}\r\n\t\t\t\t<em className=\"color--red\">\r\n\t\t\t\t\tPlease make sure first, because this action is not undoable.\r\n\t\t\t\t</em>\r\n\t\t\t</p>\r\n\t\t),\r\n\t\textraFooterContent: (\r\n\t\t\t<Button color=\"red\">\r\n\t\t\t\t<button\r\n\t\t\t\t\ttitle=\"Delete this person\"\r\n\t\t\t\t\tonClick={() => onSubmitDeletePerson(hash.id)}\r\n\t\t\t\t>\r\n\t\t\t\t\tDelete\r\n\t\t\t\t\t<span className=\"visuallyhidden\"> this person</span>\r\n\t\t\t\t</button>\r\n\t\t\t</Button>\r\n\t\t)\r\n\t};\r\n\tconst viewPersonModal = activePerson && {\r\n\t\tid: 'modal--view-person',\r\n\t\tlabel: `Personal Information of ${activePerson && activePerson.name}`,\r\n\t\ttitle: 'Person Information',\r\n\t\tcontent: (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"text-align-center\">\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tclassName=\"card__avatar mb-20\"\r\n\t\t\t\t\t\tname={activePerson && activePerson.name}\r\n\t\t\t\t\t\turl={activePerson && activePerson.picture}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<h3>{activePerson && activePerson.name}</h3>\r\n\t\t\t\t\t<span className=\"h3 color--green semibold\">\r\n\t\t\t\t\t\t{activePerson && activePerson.phone}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<Info\r\n\t\t\t\t\tclassName=\"mb-50\"\r\n\t\t\t\t\titems={\r\n\t\t\t\t\t\tactivePerson &&\r\n\t\t\t\t\t\tObject.keys(activePerson)\r\n\t\t\t\t\t\t\t.filter(\r\n\t\t\t\t\t\t\t\titem =>\r\n\t\t\t\t\t\t\t\t\t!['id', 'priority', 'picture', 'phone', 'name'].includes(item)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.reduce((obj, key) => {\r\n\t\t\t\t\t\t\t\tobj[key] = activePerson[key];\r\n\t\t\t\t\t\t\t\treturn obj;\r\n\t\t\t\t\t\t\t}, {})\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t)\r\n\t};\r\n\tconst title = \"People's List\";\r\n\tconst pageTitle = \"People's List\" + (term ? ` - Results for \"${term}\"` : '');\r\n\tconst titleExtra = (\r\n\t\t<Button size=\"small\" color=\"green\">\r\n\t\t\t<Link to=\"#/person/add/\" title=\"Add a new person\">\r\n\t\t\t\tAdd new\r\n\t\t\t\t<span className=\"visuallyhidden\"> person</span>\r\n\t\t\t</Link>\r\n\t\t</Button>\r\n\t);\r\n\tconst search = (\r\n\t\t<div className=\"search__input-container\" role=\"search\">\r\n\t\t\t<label htmlFor=\"people-search-input\" className=\"visuallyhidden\">\r\n\t\t\t\tSearch the people's list\r\n\t\t\t</label>\r\n\t\t\t<Input\r\n\t\t\t\tid=\"people-search-input\"\r\n\t\t\t\tcontainerClassName=\"search__input-container\"\r\n\t\t\t\tclassName=\"search__input\"\r\n\t\t\t\ttype=\"search\"\r\n\t\t\t\tname=\"search\"\r\n\t\t\t\tplaceholder=\"Search for...\"\r\n\t\t\t\tvalue={term}\r\n\t\t\t\tonChange={onTermChange}\r\n\t\t\t\tonStopTyping={onStopTyping}\r\n\t\t\t\tref={searchInputRef}\r\n\t\t\t\tminLength={2}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n\tconst navigation = (\r\n\t\t<Pagination\r\n\t\t\tcurrentPage={currentPage}\r\n\t\t\tgroupCount={state.listPeople.groupCount}\r\n\t\t\thasNextPage={state.listPeople.more_items_in_collection}\r\n\t\t\tbasePath={'/list/page/{page}' + ((term ? '/search/' + term : '') + '/')}\r\n\t\t\tpathPageSelector=\"{page}\"\r\n\t\t/>\r\n\t);\r\n\tconst pageContent = (\r\n\t\t<>\r\n\t\t\t<p aria-live=\"polite\" className=\"visuallyhidden\">\r\n\t\t\t\t{pageItems.length\r\n\t\t\t\t\t? `Showing results ${pageStartIndex + 1} to ${pageStartIndex +\r\n\t\t\t\t\t\t\tpageItems.length}`\r\n\t\t\t\t\t: 'No result found.'}\r\n\t\t\t</p>\r\n\t\t\t{pageItems.length ? (\r\n\t\t\t\t<SortableList\r\n\t\t\t\t\tterm={term}\r\n\t\t\t\t\titems={pageItems}\r\n\t\t\t\t\tuseDragHandle={true}\r\n\t\t\t\t\thideSortableGhost={false}\r\n\t\t\t\t\tonSortStart={onSortStart}\r\n\t\t\t\t\tonSortEnd={onSortEnd}\r\n\t\t\t\t\tdisable={state.prioritizePerson.loading}\r\n\t\t\t\t\tshouldCancelStart={() => term}\r\n\t\t\t\t/>\r\n\t\t\t) : state.listPeople.loading ? null : (\r\n\t\t\t\t<div className=\"text-align-center pv-50\">\r\n\t\t\t\t\t<p className=\"h1 mb-30\">\r\n\t\t\t\t\t\t<strong>No result found :(</strong>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t{currentPage === 1 && !term ? null : (\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<Link to=\"/list/\">Back to the index</Link>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Page\r\n\t\t\t\ttitle={title}\r\n\t\t\t\ttitleExtra={titleExtra}\r\n\t\t\t\tpageTitle={pageTitle}\r\n\t\t\t\tsearch={search}\r\n\t\t\t\tnavigation={navigation}\r\n\t\t\t\tpageContent={pageContent}\r\n\t\t\t/>\r\n\t\t\t{needsModal ? (\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tpageTitle={\r\n\t\t\t\t\t\thash.action === 'view' && activePerson && activePerson.name\r\n\t\t\t\t\t}\r\n\t\t\t\t\topen={isModalOpen}\r\n\t\t\t\t\tonClose={() => onModalClose()}\r\n\t\t\t\t\tloading={\r\n\t\t\t\t\t\thash.action === 'view' &&\r\n\t\t\t\t\t\t(state.viewPerson.loading || !activePerson)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{...modalContent}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t\t{state.lastAction ? (\r\n\t\t\t\t<Prompt\r\n\t\t\t\t\ttext={\r\n\t\t\t\t\t\tstate[state.lastAction].error\r\n\t\t\t\t\t\t\t? state[state.lastAction].errorMsg\r\n\t\t\t\t\t\t\t: state[state.lastAction].loadingMsg\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvisible={showPrompt}\r\n\t\t\t\t\ttype={state[state.lastAction].error ? 'error' : null}\r\n\t\t\t\t\thasLoading={true}\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t!state[state.lastAction].loading && setPromptVisible(false)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Page } from '../../components';\r\nimport './index.scss';\r\n\r\nconst NotFoundPage = () => {\r\n\tconst title = 'Page not found';\r\n\tconst pageContent = (\r\n\t\t<div className=\"text-align-center pv-50\">\r\n\t\t\t<p className=\"h1 mb-30\">\r\n\t\t\t\t<strong>\r\n\t\t\t\t\tSorry, we couldn't find what you are looking for :(\r\n\t\t\t\t</strong>\r\n\t\t\t</p>\r\n\t\t\t<Button>\r\n\t\t\t\t<Link to=\"/\">Back to home</Link>\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n\treturn <Page title={title} pageContent={pageContent} />;\r\n};\r\n\r\nexport default NotFoundPage;\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tRedirect,\r\n\tRoute,\r\n\tSwitch\r\n} from 'react-router-dom';\r\nimport { ListPage, NotFoundPage } from './containers';\r\nimport './index.scss';\r\n\r\nconst Root = ({ store }) => {\r\n\treturn (\r\n\t\t<Provider store={store}>\r\n\t\t\t<Router basename={process.env.PUBLIC_URL}>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Redirect exact from=\"/\" to=\"/list/\" />\r\n\t\t\t\t\t<Route path=\"/list/\" component={ListPage} />\r\n\t\t\t\t\t<Route component={NotFoundPage} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\t\t</Provider>\r\n\t);\r\n};\r\n\r\nexport default Root;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport thunk from 'redux-thunk';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport reducer from './reducers';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport Root from './Root';\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunk));\r\n\r\nReactDOM.render(<Root store={store} />, document.getElementById('root'));\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classnames from 'classnames';\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\nimport './index.scss';\r\n\r\nconst Content = ({ title, titleExtra, search, navigation, pageContent }) => {\r\n\treturn (\r\n\t\t<StickyContainer className=\"content\">\r\n\t\t\t<Sticky>\r\n\t\t\t\t{({ style, isSticky }) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classnames('content__header', {\r\n\t\t\t\t\t\t\t'content__header--is-sticked': isSticky\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tstyle={style}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t\t\t\t<div className=\"content-header__inner\">\r\n\t\t\t\t\t\t\t\t<div className=\"content-header__column content-header__column--title\">\r\n\t\t\t\t\t\t\t\t\t<h1>{title}</h1>\r\n\t\t\t\t\t\t\t\t\t{titleExtra}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{search ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"content-header__column content-header__column--search\">\r\n\t\t\t\t\t\t\t\t\t\t{search}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{navigation ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"content-header__column content-header__column--navigation\">\r\n\t\t\t\t\t\t\t\t\t\t{navigation}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Sticky>\r\n\t\t\t<main className=\"content__body\">\r\n\t\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t\t<div className=\"content-body__inner\">{pageContent}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</StickyContainer>\r\n\t);\r\n};\r\n\r\nContent.propTypes = {\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttitleExtra: PropTypes.oneOfType([() => null, PropTypes.element]),\r\n\tsearch: PropTypes.oneOfType([() => null, PropTypes.element]),\r\n\tnavigation: PropTypes.oneOfType([() => null, PropTypes.element]),\r\n\tpageContent: PropTypes.element.isRequired\r\n};\r\n\r\nContent.defaultProps = {\r\n\ttitle: null,\r\n\ttitleExtra: null,\r\n\tsearch: null,\r\n\tnavigation: null,\r\n\tpageContent: null\r\n};\r\n\r\nexport default Content;\r\n","export { default } from './Content';\r\n"],"sourceRoot":""}